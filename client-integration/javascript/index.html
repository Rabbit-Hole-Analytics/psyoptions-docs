<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="PsyOptions Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="PsyOptions Blog Atom Feed"><title data-react-helmet="true">Javascript | PsyOptions</title><meta data-react-helmet="true" property="og:url" content="https://mithraiclabs.github.io/client-integration/javascript"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Javascript | PsyOptions"><meta data-react-helmet="true" name="description" content="Functions"><meta data-react-helmet="true" property="og:description" content="Functions"><link data-react-helmet="true" rel="shortcut icon" href="/img/PsyOps.svg"><link data-react-helmet="true" rel="canonical" href="https://mithraiclabs.github.io/client-integration/javascript"><link data-react-helmet="true" rel="alternate" href="https://mithraiclabs.github.io/client-integration/javascript" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mithraiclabs.github.io/client-integration/javascript" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.bd71de0b.css">
<link rel="preload" href="/assets/js/styles.fabcaae9.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.a44aff39.js" as="script">
<link rel="preload" href="/assets/js/main.d4e543a9.js" as="script">
<link rel="preload" href="/assets/js/1.581f0870.js" as="script">
<link rel="preload" href="/assets/js/2.281993e6.js" as="script">
<link rel="preload" href="/assets/js/15.04da4efe.js" as="script">
<link rel="preload" href="/assets/js/935f2afb.94a270bc.js" as="script">
<link rel="preload" href="/assets/js/17896441.196daeb3.js" as="script">
<link rel="preload" href="/assets/js/f5e46dc2.883ee24d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/PsyOps.svg" alt="PsyOptions logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/PsyOps.svg" alt="PsyOptions logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">PsyOptions</strong></a><a href="https://medium.com/psyoptions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mithraiclabs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/PsyOps.svg" alt="PsyOptions logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/PsyOps.svg" alt="PsyOptions logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">PsyOptions</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://medium.com/psyoptions" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/mithraiclabs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/glossary">Glossary</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Program Integration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/program-integration/quick-start">Quick Start</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Clients</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/client-integration/overview">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/client-integration/javascript">Javascript</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Rust</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/client-integration/rust/quick-start">Quick Start</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Devnet Testing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/devnet-testing/setup-wallet">Wallet Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/devnet-testing/beta-testing">Beta Testing</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Javascript</h1></header><div class="markdown"><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h3><ul><li><a href="#initializemarketinstruction">initializeMarketInstruction</a></li><li><a href="#mintcoveredcallinstruction">mintCoveredCallInstruction</a></li><li><a href="#exercisecoveredcallinstruction">exerciseCoveredCallInstruction</a></li><li><a href="#exchangewritertokenforquoteinstruction">exchangeWriterTokenForQuoteInstruction</a></li><li><a href="#closepositioninstruction">closePositionInstruction</a></li><li><a href="#closepostexpirationcoveredcallinstruction">closePostExpirationCoveredCallInstruction</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="functions-1"></a>Functions<a class="hash-link" href="#functions-1" title="Direct link to heading">#</a></h2><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initializemarketinstruction"></a>initializeMarketInstruction<a class="hash-link" href="#initializemarketinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>initializeMarketInstruction</strong>(<code>object</code>: { <code>expirationUnixTimestamp</code>: <em>number</em> ; <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>optionMintKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>quoteAmountPerContract</code>: <em>number</em> ; <code>quoteAssetMintKey</code>: <em>PublicKey</em> ; <code>quoteAssetPoolKey</code>: <em>PublicKey</em> ; <code>underlyingAmountPerContract</code>: <em>number</em> ; <code>underlyingAssetMintKey</code>: <em>PublicKey</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>InitializeMarket</code></p><p>Instruction to initialize a new option market. Strike price is determined by
<code>quote amount per contract / underlying amount per contract</code></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters"></a>Parameters:<a class="hash-link" href="#parameters" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.expirationUnixTimestamp</code></td><td align="left"><em>number</em></td><td align="left">unix timestamp when the option market expires</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">key for a new Account that will store the data for the options market</td></tr><tr><td align="left"><code>object.optionMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">uninitialized SPL Token mint to be used as the Option Token mint for the new option market</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.quoteAmountPerContract</code></td><td align="left"><em>number</em></td><td align="left">amount of quote needed to exercise the option</td></tr><tr><td align="left"><code>object.quoteAssetMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">SPL Token mint of the quote asset</td></tr><tr><td align="left"><code>object.quoteAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">unintitialized SPL Token account to store locked quote asset</td></tr><tr><td align="left"><code>object.underlyingAmountPerContract</code></td><td align="left"><em>number</em></td><td align="left">amount of underlying asset needed to mint an Option Token</td></tr><tr><td align="left"><code>object.underlyingAssetMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">SPL Token mint of the underlying asset</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">unintitialized SPL Token account to store locked underlying asset</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">uninitialized SPL Token mint to be used as the Writer Token mint for the new option market</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mintcoveredcallinstruction"></a>mintCoveredCallInstruction<a class="hash-link" href="#mintcoveredcallinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>mintCoveredCallInstruction</strong>(<code>object</code>: { <code>authorityPubkey</code>: <em>PublicKey</em> ; <code>mintedOptionDestKey</code>: <em>PublicKey</em> ; <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>optionMintKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>underlyingAssetSrcKey</code>: <em>PublicKey</em> ; <code>writerTokenDestKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>MintCoveredCall</code></p><p>Mints an Option Token and Writer Token after successfully transfering
underlying asset to the option market&#x27;s pool.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-1"></a>Parameters:<a class="hash-link" href="#parameters-1" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.authorityPubkey</code></td><td align="left"><em>PublicKey</em></td><td align="left">onwer of the underlyingAssetSrcKey, likely the wallet making the transaction</td></tr><tr><td align="left"><code>object.mintedOptionDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key where the option will be minted to</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.optionMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the option token mint for the option market</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the underlying asset pool for the market, where the asset will be transfered to</td></tr><tr><td align="left"><code>object.underlyingAssetSrcKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">account the underlying asset will be transfered from</td></tr><tr><td align="left"><code>object.writerTokenDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key where the Writer Token will be minted to</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the Writer Token mint for the option market</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exercisecoveredcallinstruction"></a>exerciseCoveredCallInstruction<a class="hash-link" href="#exercisecoveredcallinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>exerciseCoveredCallInstruction</strong>(<code>object</code>: { <code>exerciserQuoteAssetAuthorityKey</code>: <em>PublicKey</em> ; <code>exerciserQuoteAssetKey</code>: <em>PublicKey</em> ; <code>exerciserUnderlyingAssetKey</code>: <em>PublicKey</em> ; <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>optionMintKey</code>: <em>PublicKey</em> ; <code>optionTokenAuthorityKey</code>: <em>PublicKey</em> ; <code>optionTokenKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>quoteAssetPoolKey</code>: <em>PublicKey</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>ExerciseCoveredCall</code>.</p><p>This instruction will burn an Option Token, transfer quote asset
to the quote asset pool, and transfer underlying asset from the
underlying asset pool to the specified account. The amount of underlying asset
transfered depends on the underlying amount per contract, aka <code>contract size</code>.
The amount of quote asset transfered depends on the quote amount
per contract, aka <code>contract size * price</code>.</p><p><strong>Note this instruction may only be called prior to the option market expiration</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-2"></a>Parameters:<a class="hash-link" href="#parameters-2" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.exerciserQuoteAssetAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">owner of the exerciserQuoteAssetKey, likely the wallet</td></tr><tr><td align="left"><code>object.exerciserQuoteAssetKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key where the quote asset will be transfered from</td></tr><tr><td align="left"><code>object.exerciserUnderlyingAssetKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key where the underlying asset will be transfered to</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.optionMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the option token mint for the option market</td></tr><tr><td align="left"><code>object.optionTokenAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">onwer of the optionTokenKey, likely the wallet making the transaction</td></tr><tr><td align="left"><code>object.optionTokenKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Option Token will be burned from</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.quoteAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the quote asset pool for the market, where the asset will be transfered to</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the underlying asset pool for the market, where the asset will be transfered from</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="closepositioninstruction"></a>closePositionInstruction<a class="hash-link" href="#closepositioninstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>closePositionInstruction</strong>(<code>object</code>: { <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>optionMintKey</code>: <em>PublicKey</em> ; <code>optionTokenSrcAuthKey</code>: <em>PublicKey</em> ; <code>optionTokenSrcKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>underlyingAssetDestKey</code>: <em>PublicKey</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceAuthorityKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>ClosePosition</code>.</p><p>This instruction will burn a Writer Token and an Option Token. Upon burning
these tokens, the program will transfer the locked underlying asset to the specified
public key. The amount of underlying asset transfered depends on the underlying amount
per contract, aka <code>contract size</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-3"></a>Parameters:<a class="hash-link" href="#parameters-3" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.optionMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the option token mint for the option market</td></tr><tr><td align="left"><code>object.optionTokenSrcAuthKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">Onwer of the optionTokenSrcKey, likely the wallet that owns the account</td></tr><tr><td align="left"><code>object.optionTokenSrcKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Option Token will be burned from</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.underlyingAssetDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account to send the underlying asset to</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the underlying asset pool for the market, where the asset will be transfered from</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the writer token mint for the option market</td></tr><tr><td align="left"><code>object.writerTokenSourceAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">owner of the writerTokenSourceKey, likely the wallet that owns the account</td></tr><tr><td align="left"><code>object.writerTokenSourceKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Writer Token will be burned from</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exchangewritertokenforquoteinstruction"></a>exchangeWriterTokenForQuoteInstruction<a class="hash-link" href="#exchangewritertokenforquoteinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>exchangeWriterTokenForQuoteInstruction</strong>(<code>object</code>: { <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>quoteAssetDestKey</code>: <em>PublicKey</em> ; <code>quoteAssetPoolKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceAuthorityKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>ExchangeWriterTokenForQuote</code></p><p>This instruction will burn a Writer Token and transfer quote asset to the
specified account. The amount of quote asset transfered depends on the quote
amount per contract, aka <code>contract size * price</code>.</p><p><strong>Note this instruction can only be called after an option has been exercised</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-4"></a>Parameters:<a class="hash-link" href="#parameters-4" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.quoteAssetDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account to send the quote asset to</td></tr><tr><td align="left"><code>object.quoteAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the quote asset pool for the market, where the asset will be transfered from</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the writer token mint for the option market</td></tr><tr><td align="left"><code>object.writerTokenSourceAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">owner of the writerTokenSourceKey, likely the wallet making the transaction</td></tr><tr><td align="left"><code>object.writerTokenSourceKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Writer Token will be burned from</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="closepostexpirationcoveredcallinstruction"></a>closePostExpirationCoveredCallInstruction<a class="hash-link" href="#closepostexpirationcoveredcallinstruction" title="Direct link to heading">#</a></h3><p>â–¸ <strong>closePostExpirationCoveredCallInstruction</strong>(<code>object</code>: { <code>optionMarketKey</code>: <em>PublicKey</em> ; <code>programId</code>: <em>PublicKey</em> ; <code>underlyingAssetDestKey</code>: <em>PublicKey</em> ; <code>underlyingAssetPoolKey</code>: <em>PublicKey</em> ; <code>writerTokenMintKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceAuthorityKey</code>: <em>PublicKey</em> ; <code>writerTokenSourceKey</code>: <em>PublicKey</em> }): <em>Promise</em>&lt;TransactionInstruction&gt;</p><p>Generate the instruction for <code>ClosePostExpiration</code></p><p>This instruction will burn a Writer Token and transfer underlying asset back to the
specified account. The amount of underlying asset transfered depends on the underlying
amount per contract, aka <code>contract size</code>.</p><p><strong>Note this instruction can only be called after the option market has expired</strong></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters-5"></a>Parameters:<a class="hash-link" href="#parameters-5" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>object</code></td><td align="left"><em>object</em></td><td align="left">-</td></tr><tr><td align="left"><code>object.optionMarketKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key for the opton market</td></tr><tr><td align="left"><code>object.programId</code></td><td align="left"><em>PublicKey</em></td><td align="left">the public key for the PsyOptions program</td></tr><tr><td align="left"><code>object.underlyingAssetDestKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account to send the underlying asset to</td></tr><tr><td align="left"><code>object.underlyingAssetPoolKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the underlying asset pool for the market, where the asset will be transfered from</td></tr><tr><td align="left"><code>object.writerTokenMintKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the writer token mint for the option market</td></tr><tr><td align="left"><code>object.writerTokenSourceAuthorityKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">owner of the writerTokenSourceKey, likely the wallet making the transaction</td></tr><tr><td align="left"><code>object.writerTokenSourceKey</code></td><td align="left"><em>PublicKey</em></td><td align="left">public key of the account where the Writer Token will be burned from</td></tr></tbody></table><p><strong>Returns:</strong> <em>Promise</em>&lt;TransactionInstruction&gt;</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/mithraiclabs/psyoptions-docs/tree/master/docs/javascript-functions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/client-integration/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Client Integration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/client-integration/rust/quick-start"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rust Quick Start Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#functions" class="table-of-contents__link">Functions</a></li><li><a href="#functions-1" class="table-of-contents__link">Functions</a><ul><li><a href="#initializemarketinstruction" class="table-of-contents__link">initializeMarketInstruction</a></li><li><a href="#mintcoveredcallinstruction" class="table-of-contents__link">mintCoveredCallInstruction</a></li><li><a href="#exercisecoveredcallinstruction" class="table-of-contents__link">exerciseCoveredCallInstruction</a></li><li><a href="#closepositioninstruction" class="table-of-contents__link">closePositionInstruction</a></li><li><a href="#exchangewritertokenforquoteinstruction" class="table-of-contents__link">exchangeWriterTokenForQuoteInstruction</a></li><li><a href="#closepostexpirationcoveredcallinstruction" class="table-of-contents__link">closePostExpirationCoveredCallInstruction</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://t.co/T28cJeQvS7?amp=1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/PsyOptions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://t.co/SFP8AZH7kv?amp=1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://medium.com/psyoptions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/mithraiclabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 PsyOptions. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/styles.fabcaae9.js"></script>
<script src="/assets/js/runtime~main.a44aff39.js"></script>
<script src="/assets/js/main.d4e543a9.js"></script>
<script src="/assets/js/1.581f0870.js"></script>
<script src="/assets/js/2.281993e6.js"></script>
<script src="/assets/js/15.04da4efe.js"></script>
<script src="/assets/js/935f2afb.94a270bc.js"></script>
<script src="/assets/js/17896441.196daeb3.js"></script>
<script src="/assets/js/f5e46dc2.883ee24d.js"></script>
</body>
</html>